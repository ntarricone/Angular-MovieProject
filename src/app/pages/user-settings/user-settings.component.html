<div class="container">
  <h1 class="offset-4 mb-5">Editar usuarios</h1>
  <div class="row">
    <div class="col-4 offset-4">
      <form #userForm="ngForm" (ngSubmit)="updateUser(userForm)">
        <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="usersService.selectedUser._id">
        <div class="form-group">
          <label for="exampleFormControlInput1">Nombre de usuario</label>
          <input type="text" name="username" #username="ngModel" [(ngModel)]="usersService.selectedUser.username"
            class="form-control">
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">Contraseña</label>
          <input type="text" name="password" #password="ngModel" [(ngModel)]="usersService.selectedUser.password"
            class="form-control">
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1">Película</label>
          <select multiple name="moviesId" #title="ngModel" [(ngModel)]="usersService.selectedUser.moviesId"
            class="form-control">
            <option *ngFor="let movie of movieService.movies">{{ movie._id }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">Actualizar avatar</label>
          <input type="text" name="avatar" #avatar="ngModel" [(ngModel)]="usersService.selectedUser.avatar"
            class="form-control">
        </div>
        <button style="width: 80px" class="btn btn-primary boton">Guardar</button>
      </form>
      <!-- <button (click)="resetForm()" style="width: 70px">Clean</button> -->
    </div>
    <!-- <div class="col-8">
      <table>
        <thead>
          <th>Avatar</th>
          <th>Name</th>
          <th>Password</th>
          <th>Movies</th>

        </thead>
        <tbody>
          <tr *ngFor="let user of usersService.users">
            <td><img [src]="user?.avatar" class="background-size: cover" alt="..." /></td>
            <td>{{ user.username }}</td>
            <td>{{ user.password }}</td>
            <td>{{ user.moviesId }}</td>
            <td>
              <button (click)="editUser(user)" style="width: 75px; margin-left: 5px;"
                class="btn btn-primary">Editar</button>
              <button [routerLink]="['/users/my-profile', user._id]" style="width: 75px; margin-left: 5px;"
                class="btn btn-primary">Usuario </button>
              <button (click)="deleteUser(user._id)" style="width: 75px; margin-left: 5px;"
                class="btn btn-primary">Borrar</button>
            </td>

          </tr>

        </tbody>
      </table>
    </div> -->
  </div>

</div>
<h1>Usuarios registrados</h1>
<div class="container">
  <div class="row">
    <div class="col-4 mt-4 mb-4 " *ngFor="let user of usersService.users">
      <div class="card backcolor" style="width: 18rem;">
        <img [src]="user?.avatar" class="card-img-top imgSize" alt="..." />
        <div class="card-body">
          <h5 class="card-title">{{ user.username }}</h5>
          <p class="card-text">Password: {{ user.password }}</p>
          <p class="card-text"><strong>Pelis</strong> </p>
          <p class="card-text">{{ user.moviesId }}  </p>
          <button (click)="editUser(user)" style="width: 75px; margin-left: 5px;" class="btn btn-primary boton">Editar</button>
          <button [routerLink]="['/users/my-profile', user._id]" style="width: 80px; margin-left: 5px;"
            class="btn btn-primary boton">Usuario </button>
          <button (click)="deleteUser(user._id)" style="width: 75px; margin-left: 5px;"
            class="btn btn-primary boton">Borrar</button>
        </div>
      </div>
    </div>
  </div>
</div>
